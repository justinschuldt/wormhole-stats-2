"use strict";(self.webpackChunkwormhole=self.webpackChunkwormhole||[]).push([[766],{75940:function(e,t,r){r.d(t,{nh:function(){return Yt}});var n=r(72407),i=r(29439),o=r(4942),s=r(93433),a=r(15861),u=r(60136),c=r(82963),h=r(61120),l=r(15671),d=r(43144),f=r(87757),p=r.n(f),y=(r(65743),r(18373)),g=r.n(y),b=r(65010),m=r(85639),k=r.n(m),v=r(14922),w=r.n(v),I=r(58327),S=r(90139),x=r(79632),A=(r(89117),r(92084),r(49500)),_=r.n(A),R=r(89065),P=r.n(R);function E(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,h.Z)(e);if(t){var i=(0,h.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var N=function(e){return b.lW.isBuffer(e)?e:e instanceof Uint8Array?b.lW.from(e.buffer,e.byteOffset,e.byteLength):b.lW.from(e)},B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};var Z={},U={},j=G;function G(e,t){if(!e)throw new Error(t||"Assertion failed")}G.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var K={exports:{}};"function"==typeof Object.create?K.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:K.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var C=j,D=K.exports;function M(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function L(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function X(e){return 1===e.length?"0"+e:e}function F(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}U.inherits=D,U.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):M(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},U.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=X(e[r].toString(16));return t},U.htonl=L,U.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=L(i)),r+=F(i.toString(16))}return r},U.zero2=X,U.zero8=F,U.join32=function(e,t,r,n){var i=r-t;C(i%4==0);for(var o=new Array(i/4),s=0,a=t;s<o.length;s++,a+=4){var u;u="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],o[s]=u>>>0}return o},U.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},U.rotr32=function(e,t){return e>>>t|e<<32-t},U.rotl32=function(e,t){return e<<t|e>>>32-t},U.sum32=function(e,t){return e+t>>>0},U.sum32_3=function(e,t,r){return e+t+r>>>0},U.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},U.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},U.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},U.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},U.sum64_lo=function(e,t,r,n){return t+n>>>0},U.sum64_4_hi=function(e,t,r,n,i,o,s,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},U.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},U.sum64_5_hi=function(e,t,r,n,i,o,s,a,u,c){var h=0,l=t;return h+=(l=l+n>>>0)<t?1:0,h+=(l=l+o>>>0)<o?1:0,h+=(l=l+a>>>0)<a?1:0,e+r+i+s+u+(h+=(l=l+c>>>0)<c?1:0)>>>0},U.sum64_5_lo=function(e,t,r,n,i,o,s,a,u,c){return t+n+o+a+c>>>0},U.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},U.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},U.shr64_hi=function(e,t,r){return e>>>r},U.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var q={},H=U,V=j;function J(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}q.BlockHash=J,J.prototype.update=function(e,t){if(e=H.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=H.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},J.prototype.digest=function(e){return this.update(this._pad()),V(null===this.pending),this._digest(e)},J.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var Q={},$={},Y=U.rotr32;function ee(e,t,r){return e&t^~e&r}function te(e,t,r){return e&t^e&r^t&r}function re(e,t,r){return e^t^r}$.ft_1=function(e,t,r,n){return 0===e?ee(t,r,n):1===e||3===e?re(t,r,n):2===e?te(t,r,n):void 0},$.ch32=ee,$.maj32=te,$.p32=re,$.s0_256=function(e){return Y(e,2)^Y(e,13)^Y(e,22)},$.s1_256=function(e){return Y(e,6)^Y(e,11)^Y(e,25)},$.g0_256=function(e){return Y(e,7)^Y(e,18)^e>>>3},$.g1_256=function(e){return Y(e,17)^Y(e,19)^e>>>10};var ne=U,ie=q,oe=$,se=ne.rotl32,ae=ne.sum32,ue=ne.sum32_5,ce=oe.ft_1,he=ie.BlockHash,le=[1518500249,1859775393,2400959708,3395469782];function de(){if(!(this instanceof de))return new de;he.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ne.inherits(de,he);var fe=de;de.blockSize=512,de.outSize=160,de.hmacStrength=80,de.padLength=64,de.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=se(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),h=ue(se(i,5),ce(c,o,s,a),u,r[n],le[c]);u=a,a=s,s=se(o,30),o=i,i=h}this.h[0]=ae(this.h[0],i),this.h[1]=ae(this.h[1],o),this.h[2]=ae(this.h[2],s),this.h[3]=ae(this.h[3],a),this.h[4]=ae(this.h[4],u)},de.prototype._digest=function(e){return"hex"===e?ne.toHex32(this.h,"big"):ne.split32(this.h,"big")};var pe=U,ye=q,ge=$,be=j,me=pe.sum32,ke=pe.sum32_4,ve=pe.sum32_5,we=ge.ch32,Ie=ge.maj32,Se=ge.s0_256,xe=ge.s1_256,Ae=ge.g0_256,_e=ge.g1_256,Re=ye.BlockHash,Pe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ee(){if(!(this instanceof Ee))return new Ee;Re.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Pe,this.W=new Array(64)}pe.inherits(Ee,Re);var We=Ee;Ee.blockSize=512,Ee.outSize=256,Ee.hmacStrength=192,Ee.padLength=64,Ee.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=ke(_e(r[n-2]),r[n-7],Ae(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],l=this.h[7];for(be(this.k.length===r.length),n=0;n<r.length;n++){var d=ve(l,xe(u),we(u,c,h),this.k[n],r[n]),f=me(Se(i),Ie(i,o,s));l=h,h=c,c=u,u=me(a,d),a=s,s=o,o=i,i=me(d,f)}this.h[0]=me(this.h[0],i),this.h[1]=me(this.h[1],o),this.h[2]=me(this.h[2],s),this.h[3]=me(this.h[3],a),this.h[4]=me(this.h[4],u),this.h[5]=me(this.h[5],c),this.h[6]=me(this.h[6],h),this.h[7]=me(this.h[7],l)},Ee.prototype._digest=function(e){return"hex"===e?pe.toHex32(this.h,"big"):pe.split32(this.h,"big")};var Oe=U,Te=We;function ze(){if(!(this instanceof ze))return new ze;Te.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Oe.inherits(ze,Te);var Ne=ze;ze.blockSize=512,ze.outSize=224,ze.hmacStrength=192,ze.padLength=64,ze.prototype._digest=function(e){return"hex"===e?Oe.toHex32(this.h.slice(0,7),"big"):Oe.split32(this.h.slice(0,7),"big")};var Be=U,Ze=q,Ue=j,je=Be.rotr64_hi,Ge=Be.rotr64_lo,Ke=Be.shr64_hi,Ce=Be.shr64_lo,De=Be.sum64,Me=Be.sum64_hi,Le=Be.sum64_lo,Xe=Be.sum64_4_hi,Fe=Be.sum64_4_lo,qe=Be.sum64_5_hi,He=Be.sum64_5_lo,Ve=Ze.BlockHash,Je=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Qe(){if(!(this instanceof Qe))return new Qe;Ve.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Je,this.W=new Array(160)}Be.inherits(Qe,Ve);var $e=Qe;function Ye(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function et(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function tt(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function rt(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function nt(e,t){var r=je(e,t,28)^je(t,e,2)^je(t,e,7);return r<0&&(r+=4294967296),r}function it(e,t){var r=Ge(e,t,28)^Ge(t,e,2)^Ge(t,e,7);return r<0&&(r+=4294967296),r}function ot(e,t){var r=je(e,t,14)^je(e,t,18)^je(t,e,9);return r<0&&(r+=4294967296),r}function st(e,t){var r=Ge(e,t,14)^Ge(e,t,18)^Ge(t,e,9);return r<0&&(r+=4294967296),r}function at(e,t){var r=je(e,t,1)^je(e,t,8)^Ke(e,t,7);return r<0&&(r+=4294967296),r}function ut(e,t){var r=Ge(e,t,1)^Ge(e,t,8)^Ce(e,t,7);return r<0&&(r+=4294967296),r}function ct(e,t){var r=je(e,t,19)^je(t,e,29)^Ke(e,t,6);return r<0&&(r+=4294967296),r}function ht(e,t){var r=Ge(e,t,19)^Ge(t,e,29)^Ce(e,t,6);return r<0&&(r+=4294967296),r}Qe.blockSize=1024,Qe.outSize=512,Qe.hmacStrength=192,Qe.padLength=128,Qe.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=ct(r[n-4],r[n-3]),o=ht(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=at(r[n-30],r[n-29]),c=ut(r[n-30],r[n-29]),h=r[n-32],l=r[n-31];r[n]=Xe(i,o,s,a,u,c,h,l),r[n+1]=Fe(i,o,s,a,u,c,h,l)}},Qe.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],u=this.h[5],c=this.h[6],h=this.h[7],l=this.h[8],d=this.h[9],f=this.h[10],p=this.h[11],y=this.h[12],g=this.h[13],b=this.h[14],m=this.h[15];Ue(this.k.length===r.length);for(var k=0;k<r.length;k+=2){var v=b,w=m,I=ot(l,d),S=st(l,d),x=Ye(l,d,f,p,y),A=et(l,d,f,p,y,g),_=this.k[k],R=this.k[k+1],P=r[k],E=r[k+1],W=qe(v,w,I,S,x,A,_,R,P,E),O=He(v,w,I,S,x,A,_,R,P,E);v=nt(n,i),w=it(n,i),I=tt(n,i,o,s,a),S=rt(n,i,o,s,a,u);var T=Me(v,w,I,S),z=Le(v,w,I,S);b=y,m=g,y=f,g=p,f=l,p=d,l=Me(c,h,W,O),d=Le(h,h,W,O),c=a,h=u,a=o,u=s,o=n,s=i,n=Me(W,O,T,z),i=Le(W,O,T,z)}De(this.h,0,n,i),De(this.h,2,o,s),De(this.h,4,a,u),De(this.h,6,c,h),De(this.h,8,l,d),De(this.h,10,f,p),De(this.h,12,y,g),De(this.h,14,b,m)},Qe.prototype._digest=function(e){return"hex"===e?Be.toHex32(this.h,"big"):Be.split32(this.h,"big")};var lt=U,dt=$e;function ft(){if(!(this instanceof ft))return new ft;dt.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}lt.inherits(ft,dt);var pt=ft;ft.blockSize=1024,ft.outSize=384,ft.hmacStrength=192,ft.padLength=128,ft.prototype._digest=function(e){return"hex"===e?lt.toHex32(this.h.slice(0,12),"big"):lt.split32(this.h.slice(0,12),"big")},Q.sha1=fe,Q.sha224=Ne,Q.sha256=We,Q.sha384=pt,Q.sha512=$e;var yt={},gt=U,bt=q,mt=gt.rotl32,kt=gt.sum32,vt=gt.sum32_3,wt=gt.sum32_4,It=bt.BlockHash;function St(){if(!(this instanceof St))return new St;It.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function xt(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function At(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function _t(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}gt.inherits(St,It),yt.ripemd160=St,St.blockSize=512,St.outSize=160,St.hmacStrength=192,St.padLength=64,St.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,u=n,c=i,h=o,l=s,d=0;d<80;d++){var f=kt(mt(wt(r,xt(d,n,i,o),e[Rt[d]+t],At(d)),Et[d]),s);r=s,s=o,o=mt(i,10),i=n,n=f,f=kt(mt(wt(a,xt(79-d,u,c,h),e[Pt[d]+t],_t(d)),Wt[d]),l),a=l,l=h,h=mt(c,10),c=u,u=f}f=vt(this.h[1],i,h),this.h[1]=vt(this.h[2],o,l),this.h[2]=vt(this.h[3],s,a),this.h[3]=vt(this.h[4],r,u),this.h[4]=vt(this.h[0],n,c),this.h[0]=f},St.prototype._digest=function(e){return"hex"===e?gt.toHex32(this.h,"little"):gt.split32(this.h,"little")};var Rt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Pt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Et=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Wt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ot=U,Tt=j;function zt(e,t,r){if(!(this instanceof zt))return new zt(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(Ot.toArray(t,r))}var Nt=zt;zt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),Tt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},zt.prototype.update=function(e,t){return this.inner.update(e,t),this},zt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=U,t.common=q,t.sha=Q,t.ripemd=yt,t.hmac=Nt,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(Z);var Bt=Z,Zt=!1,Ut=!1,jt={debug:1,default:2,info:2,warning:3,error:4,off:5},Gt=jt.default,Kt=null;var Ct,Dt,Mt=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Ct||(Ct={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Dt||(Dt={}));var Lt="0123456789abcdef",Xt=function(){function e(t){(0,l.Z)(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}return(0,d.Z)(e,[{key:"_log",value:function(e,t){var r=e.toLowerCase();null==jt[r]&&this.throwArgumentError("invalid log level name","logLevel",e),Gt>jt[r]||console.log.apply(console,t)}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.DEBUG,r)}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.INFO,r)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.WARNING,r)}},{key:"makeError",value:function(t,r,n){if(Ut)return this.makeError("censored error",r,{});r||(r=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var t=n[e];try{if(t instanceof Uint8Array){for(var r="",o=0;o<t.length;o++)r+=Lt[t[o]>>4],r+=Lt[15&t[o]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(s){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(r)),i.push("version=".concat(this.version));var o=t;i.length&&(t+=" ("+i.join(", ")+")");var s=new Error(t);return s.reason=o,s.code=r,Object.keys(n).forEach((function(e){s[e]=n[e]})),s}},{key:"throwError",value:function(e,t,r){throw this.makeError(e,t,r)}},{key:"throwArgumentError",value:function(t,r,n){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:r,value:n})}},{key:"assert",value:function(e,t,r,n){e||this.throwError(t,r,n)}},{key:"assertArgument",value:function(e,t,r,n){e||this.throwArgumentError(t,r,n)}},{key:"checkNormalize",value:function(t){Mt&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Mt})}},{key:"checkSafeUint53",value:function(t,r){"number"==typeof t&&(null==r&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}},{key:"checkArgumentCount",value:function(t,r,n){n=n?": "+n:"",t<r&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}},{key:"checkNew",value:function(t,r){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}},{key:"checkAbstract",value:function(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}}],[{key:"globalLogger",value:function(){return Kt||(Kt=new e("logger/5.5.0")),Kt}},{key:"setCensorship",value:function(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Zt){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ut=!!t,Zt=!!r}},{key:"setLogLevel",value:function(t){var r=jt[t.toLowerCase()];null!=r?Gt=r:e.globalLogger().warn("invalid log level - "+t)}},{key:"from",value:function(t){return new e(t)}}]),e}();Xt.errors=Dt,Xt.levels=Ct;var Ft=new Xt("bytes/5.5.0");function qt(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return qt(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Ht(e){return"number"==typeof e&&e==e&&e%1==0}function Vt(e,t){if(t||(t={}),"number"==typeof e){Ft.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),qt(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){var n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0x0"+n.substring(2):"right"===t.hexPad?n+="0":Ft.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return qt(new Uint8Array(i))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!Ht(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!Ht(r)||r<0||r>=256)return!1}return!0}(e)?qt(new Uint8Array(e)):Ft.throwArgumentError("invalid arrayify value","value",e)}function Jt(e){return"0x"+Bt.sha256().update(Vt(e)).digest("hex")}new Xt("sha2/5.5.0");var Qt=function(){function e(t){(0,l.Z)(this,e),Object.assign(this,t)}return(0,d.Z)(e,[{key:"encode",value:function(){return b.lW.from((0,I.serialize)($t,this))}}],[{key:"decode",value:function(e){return(0,I.deserialize)($t,this,e)}},{key:"decodeUnchecked",value:function(e){return(0,I.deserializeUnchecked)($t,this,e)}}]),e}(),$t=new Map;var Yt=function(e){(0,u.Z)(o,e);var t,r,n,i=z(o);function o(e){var t;if((0,l.Z)(this,o),(t=i.call(this,{}))._bn=void 0,function(e){return void 0!==e._bn}(e))t._bn=e._bn;else{if("string"==typeof e){var r=w().decode(e);if(32!=r.length)throw new Error("Invalid public key input");t._bn=new(k())(r)}else t._bn=new(k())(e);if(t._bn.byteLength()>32)throw new Error("Invalid public key input")}return t}return(0,d.Z)(o,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return w().encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){return this.toBuffer()}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(b.lW);if(32===e.length)return e;var t=b.lW.alloc(32);return e.copy(t,32-e.length),t}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"createWithSeed",value:(n=(0,a.Z)(p().mark((function e(t,r,n){var i,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=b.lW.concat([t.toBuffer(),b.lW.from(r),n.toBuffer()]),s=Jt(new Uint8Array(i)).slice(2),e.abrupt("return",new o(b.lW.from(s,"hex")));case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"createProgramAddress",value:(r=(0,a.Z)(p().mark((function e(t,r){var n,i,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b.lW.alloc(0),t.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=b.lW.concat([n,N(e)])})),n=b.lW.concat([n,r.toBuffer(),b.lW.from("ProgramDerivedAddress")]),i=Jt(new Uint8Array(n)).slice(2),!tr(s=new(k())(i,16).toArray(void 0,32))){e.next=7;break}throw new Error("Invalid seeds, address must fall off the curve");case 7:return e.abrupt("return",new o(s));case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"findProgramAddress",value:(t=(0,a.Z)(p().mark((function e(t,r){var n,i,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=255;case 1:if(0==n){e.next=18;break}return e.prev=2,o=t.concat(b.lW.from([n])),e.next=6,this.createProgramAddress(o,r);case 6:i=e.sent,e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(2),!(e.t0 instanceof TypeError)){e.next=13;break}throw e.t0;case 13:return n--,e.abrupt("continue",1);case 15:return e.abrupt("return",[i,n]);case 18:throw new Error("Unable to find a viable program address nonce");case 19:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,r){return t.apply(this,arguments)})},{key:"isOnCurve",value:function(e){return 1==tr(e)}}]),o}(Qt);Yt.default=new Yt("11111111111111111111111111111111"),$t.set(Yt,{kind:"struct",fields:[["_bn","u256"]]});var er=g().lowlevel;function tr(e){var t=[er.gf(),er.gf(),er.gf(),er.gf()],r=er.gf(),n=er.gf(),i=er.gf(),o=er.gf(),s=er.gf(),a=er.gf(),u=er.gf();return er.set25519(t[2],rr),er.unpack25519(t[1],e),er.S(i,t[1]),er.M(o,i,er.D),er.Z(i,i,t[2]),er.A(o,t[2],o),er.S(s,o),er.S(a,s),er.M(u,a,s),er.M(r,u,i),er.M(r,r,o),er.pow2523(r,r),er.M(r,r,i),er.M(r,r,o),er.M(r,r,o),er.M(t[0],r,o),er.S(n,t[0]),er.M(n,n,o),ir(n,i)&&er.M(t[0],t[0],nr),er.S(n,t[0]),er.M(n,n,o),ir(n,i)?0:1}var rr=er.gf([1]),nr=er.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ir(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return er.pack25519(r,e),er.pack25519(n,t),er.crypto_verify_32(r,0,n,0)}new Yt("BPFLoader1111111111111111111111111111111111");var or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return S.blob(32,e)},sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=S.struct([S.u32("length"),S.u32("lengthPadding"),S.blob(S.offset(S.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=function(e,t){return r(e,t).chars.toString("utf8")},t.encode=function(e,t,r){var i={chars:b.lW.from(e,"utf8")};return n(i,t,r)},t.alloc=function(e){return S.u32().span+S.u32().span+b.lW.from(e,"utf8").length},t};function ar(e){for(var t=0,r=0;;){var n=e.shift();if(t|=(127&n)<<7*r,r+=1,0==(128&n))break}return t}function ur(e,t){for(var r=t;;){var n=127&r;if(0==(r>>=7)){e.push(n);break}n|=128,e.push(n)}}var cr=function(){function e(t){var r=this;(0,l.Z)(this,e),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((function(e){return new Yt(e)})),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((function(e){return r.indexToProgramIds.set(e.programIdIndex,r.accountKeys[e.programIdIndex])}))}return(0,d.Z)(e,[{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}},{key:"isProgramId",value:function(e){return this.indexToProgramIds.has(e)}},{key:"programIds",value:function(){return(0,s.Z)(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var e=this;return this.accountKeys.filter((function(t,r){return!e.isProgramId(r)}))}},{key:"serialize",value:function(){var e=this.accountKeys.length,t=[];ur(t,e);var r=this.instructions.map((function(e){var t=e.accounts,r=e.programIdIndex,n=w().decode(e.data),i=[];ur(i,t.length);var o=[];return ur(o,n.length),{programIdIndex:r,keyIndicesCount:b.lW.from(i),keyIndices:b.lW.from(t),dataLength:b.lW.from(o),data:n}})),n=[];ur(n,r.length);var i=b.lW.alloc(dr);b.lW.from(n).copy(i);var o=n.length;r.forEach((function(e){var t=S.struct([S.u8("programIdIndex"),S.blob(e.keyIndicesCount.length,"keyIndicesCount"),S.seq(S.u8("keyIndex"),e.keyIndices.length,"keyIndices"),S.blob(e.dataLength.length,"dataLength"),S.seq(S.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);var s=S.struct([S.blob(1,"numRequiredSignatures"),S.blob(1,"numReadonlySignedAccounts"),S.blob(1,"numReadonlyUnsignedAccounts"),S.blob(t.length,"keyCount"),S.seq(or("key"),e,"keys"),or("recentBlockhash")]),a={numRequiredSignatures:b.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:b.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:b.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:b.lW.from(t),keys:this.accountKeys.map((function(e){return N(e.toBytes())})),recentBlockhash:w().decode(this.recentBlockhash)},u=b.lW.alloc(2048),c=s.encode(a,u);return i.copy(u,c),u.slice(0,c+i.length)}}],[{key:"from",value:function(t){for(var r=(0,s.Z)(t),n=r.shift(),i=r.shift(),o=r.shift(),a=ar(r),u=[],c=0;c<a;c++){var h=r.slice(0,32);r=r.slice(32),u.push(w().encode(b.lW.from(h)))}for(var l=r.slice(0,32),d=ar(r=r.slice(32)),f=[],p=0;p<d;p++){var y=r.shift(),g=ar(r),m=r.slice(0,g),k=ar(r=r.slice(g)),v=r.slice(0,k),I=w().encode(b.lW.from(v));r=r.slice(k),f.push({programIdIndex:y,accounts:m,data:I})}return new e({header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:w().encode(b.lW.from(l)),accountKeys:u,instructions:f})}}]),e}();function hr(e,t){if(!e)throw new Error(t||"Assertion failed")}var lr=b.lW.alloc(64).fill(0),dr=1232,fr=(0,d.Z)((function e(t){(0,l.Z)(this,e),this.keys=void 0,this.programId=void 0,this.data=b.lW.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)})),pr=function(){function e(t){(0,l.Z)(this,e),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,t&&Object.assign(this,t)}return(0,d.Z)(e,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"add",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw new Error("No instructions");return r.forEach((function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new fr(t))})),this}},{key:"compileMessage",value:function(){var e=this.nonceInfo;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));var t,r=this.recentBlockhash;if(!r)throw new Error("Transaction recentBlockhash required");if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)t=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");t=this.signatures[0].publicKey}for(var n=0;n<this.instructions.length;n++)if(void 0===this.instructions[n].programId)throw new Error("Transaction instruction index ".concat(n," has undefined program id"));var o=[],s=[];this.instructions.forEach((function(e){e.keys.forEach((function(e){s.push(T({},e))}));var t=e.programId.toString();o.includes(t)||o.push(t)})),o.forEach((function(e){s.push({pubkey:new Yt(e),isSigner:!1,isWritable:!1})})),s.sort((function(e,t){var r=e.pubkey.toBase58().localeCompare(t.pubkey.toBase58()),n=e.isSigner===t.isSigner?0:e.isSigner?-1:1,i=e.isWritable===t.isWritable?r:e.isWritable?-1:1;return n||i}));var a=[];s.forEach((function(e){var t=e.pubkey.toString(),r=a.findIndex((function(e){return e.pubkey.toString()===t}));r>-1?a[r].isWritable=a[r].isWritable||e.isWritable:a.push(e)}));var u=a.findIndex((function(e){return e.pubkey.equals(t)}));if(u>-1){var c=a.splice(u,1),h=(0,i.Z)(c,1)[0];h.isSigner=!0,h.isWritable=!0,a.unshift(h)}else a.unshift({pubkey:t,isSigner:!0,isWritable:!0});var l,d=E(this.signatures);try{var f=function(){var e=l.value,t=a.findIndex((function(t){return t.pubkey.equals(e.publicKey)}));if(!(t>-1))throw new Error("unknown signer: ".concat(e.publicKey.toString()));a[t].isSigner||(a[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(d.s();!(l=d.n()).done;)f()}catch(I){d.e(I)}finally{d.f()}var p=0,y=0,g=0,b=[],m=[];a.forEach((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;r?(b.push(t.toString()),p+=1,n||(y+=1)):(m.push(t.toString()),n||(g+=1))}));var k=b.concat(m),v=this.instructions.map((function(e){var t=e.data,r=e.programId;return{programIdIndex:k.indexOf(r.toString()),accounts:e.keys.map((function(e){return k.indexOf(e.pubkey.toString())})),data:w().encode(t)}}));return v.forEach((function(e){hr(e.programIdIndex>=0),e.accounts.forEach((function(e){return hr(e>=0)}))})),new cr({header:{numRequiredSignatures:p,numReadonlySignedAccounts:y,numReadonlyUnsignedAccounts:g},accountKeys:k,recentBlockhash:r,instructions:v})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length&&this.signatures.every((function(e,r){return t[r].equals(e.publicKey)})))return e;return this.signatures=t.map((function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"setSigners",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");var n=new Set;this.signatures=t.filter((function(e){var t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((function(e){return{signature:null,publicKey:e}}))}},{key:"sign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.publicKey.toString();n.has(u)||(n.add(u),i.push(a))}this.signatures=i.map((function(e){return{signature:null,publicKey:e.publicKey}}));var c=this._compile();this._partialSign.apply(this,[c].concat(i)),this._verifySignatures(c.serialize(),!0)}},{key:"partialSign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.publicKey.toString();n.has(u)||(n.add(u),i.push(a))}var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"_partialSign",value:function(e){for(var t=this,r=e.serialize(),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];i.forEach((function(e){var n=g().sign.detached(r,e.secretKey);t._addSignature(e.publicKey,N(n))}))}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(e,t){hr(64===t.length);var r=this.signatures.findIndex((function(t){return e.equals(t.publicKey)}));if(r<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[r].signature=b.lW.from(t)}},{key:"verifySignatures",value:function(){return this._verifySignatures(this.serializeMessage(),!0)}},{key:"_verifySignatures",value:function(e,t){var r,n=E(this.signatures);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=i.signature,s=i.publicKey;if(null===o){if(t)return!1}else if(!g().sign.detached.verify(e,o,s.toBuffer()))return!1}}catch(a){n.e(a)}finally{n.f()}return!0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=t.requireAllSignatures,n=t.verifySignatures,i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}},{key:"_serialize",value:function(e){var t=this.signatures,r=[];ur(r,t.length);var n=r.length+64*t.length+e.length,i=b.lW.alloc(n);return hr(t.length<256),b.lW.from(r).copy(i,0),t.forEach((function(e,t){var n=e.signature;null!==n&&(hr(64===n.length,"signature has invalid length"),b.lW.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),hr(i.length<=dr,"Transaction too large: ".concat(i.length," > ").concat(dr)),i}},{key:"keys",get:function(){return hr(1===this.instructions.length),this.instructions[0].keys.map((function(e){return e.pubkey}))}},{key:"programId",get:function(){return hr(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return hr(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(t){for(var r=(0,s.Z)(t),n=ar(r),i=[],o=0;o<n;o++){var a=r.slice(0,64);r=r.slice(64),i.push(w().encode(b.lW.from(a)))}return e.populate(cr.from(r),i)}},{key:"populate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((function(e,r){var i={signature:e==w().encode(lr)?null:w().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((function(e){var r=e.accounts.map((function(e){var r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((function(e){return e.publicKey.toString()===r.toString()}))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new fr({keys:r,programId:t.accountKeys[e.programIdIndex],data:w().decode(e.data)}))})),n}}]),e}(),yr=new Yt("SysvarC1ock11111111111111111111111111111111"),gr=(new Yt("SysvarEpochSchedu1e111111111111111111111111"),new Yt("Sysvar1nstructions1111111111111111111111111"),new Yt("SysvarRecentB1ockHashes11111111111111111111")),br=new Yt("SysvarRent111111111111111111111111111111111"),mr=(new Yt("SysvarRewards111111111111111111111111111111"),new Yt("SysvarS1otHashes111111111111111111111111111"),new Yt("SysvarS1otHistory11111111111111111111111111"),new Yt("SysvarStakeHistory1111111111111111111111111"));function kr(e,t,r,n){return vr.apply(this,arguments)}function vr(){return(vr=(0,a.Z)(p().mark((function e(t,r,n,i){var o,s,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries},e.next=3,t.sendTransaction(r,n,o);case 3:return s=e.sent,e.next=6,t.confirmTransaction(s,i&&i.commitment);case 6:if(!(a=e.sent.value).err){e.next=9;break}throw new Error("Transaction ".concat(s," failed (").concat(JSON.stringify(a),")"));case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wr(e){return new Promise((function(t){return setTimeout(t,e)}))}function Ir(e,t){var r=e.layout.span>=0?e.layout.span:function(e,t){var r=0;return e.layout.fields.forEach((function(e){e.span>=0?r+=e.span:"function"==typeof e.alloc&&(r+=e.alloc(t[e.property]))})),r}(e,t),n=b.lW.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}var Sr=S.nu64("lamportsPerSignature"),xr=S.struct([S.u32("version"),S.u32("state"),or("authorizedPubkey"),or("nonce"),S.struct([Sr],"feeCalculator")]),Ar=xr.span,_r=Object.freeze({Create:{index:0,layout:S.struct([S.u32("instruction"),S.ns64("lamports"),S.ns64("space"),or("programId")])},Assign:{index:1,layout:S.struct([S.u32("instruction"),or("programId")])},Transfer:{index:2,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},CreateWithSeed:{index:3,layout:S.struct([S.u32("instruction"),or("base"),sr("seed"),S.ns64("lamports"),S.ns64("space"),or("programId")])},AdvanceNonceAccount:{index:4,layout:S.struct([S.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:S.struct([S.u32("instruction"),or("authorized")])},AuthorizeNonceAccount:{index:7,layout:S.struct([S.u32("instruction"),or("authorized")])},Allocate:{index:8,layout:S.struct([S.u32("instruction"),S.ns64("space")])},AllocateWithSeed:{index:9,layout:S.struct([S.u32("instruction"),or("base"),sr("seed"),S.ns64("space"),or("programId")])},AssignWithSeed:{index:10,layout:S.struct([S.u32("instruction"),or("base"),sr("seed"),or("programId")])},TransferWithSeed:{index:11,layout:S.struct([S.u32("instruction"),S.ns64("lamports"),sr("seed"),or("programId")])}}),Rr=function(){function e(){(0,l.Z)(this,e)}return(0,d.Z)(e,null,[{key:"createAccount",value:function(e){var t=Ir(_r.Create,{lamports:e.lamports,space:e.space,programId:N(e.programId.toBuffer())});return new fr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}},{key:"transfer",value:function(e){var t,r;"basePubkey"in e?(t=Ir(_r.TransferWithSeed,{lamports:e.lamports,seed:e.seed,programId:N(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=Ir(_r.Transfer,{lamports:e.lamports}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]);return new fr({keys:r,programId:this.programId,data:t})}},{key:"assign",value:function(e){var t,r;"basePubkey"in e?(t=Ir(_r.AssignWithSeed,{base:N(e.basePubkey.toBuffer()),seed:e.seed,programId:N(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Ir(_r.Assign,{programId:N(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new fr({keys:r,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=Ir(_r.CreateWithSeed,{base:N(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:N(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new fr({keys:r,programId:this.programId,data:t})}},{key:"createNonceAccount",value:function(t){var r=new pr;"basePubkey"in t&&"seed"in t?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Ar,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Ar,programId:this.programId}));var n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(e){var t=Ir(_r.InitializeNonceAccount,{authorized:N(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:br,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new fr(r)}},{key:"nonceAdvance",value:function(e){var t=Ir(_r.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new fr(r)}},{key:"nonceWithdraw",value:function(e){var t=Ir(_r.WithdrawNonceAccount,{lamports:e.lamports});return new fr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:br,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"nonceAuthorize",value:function(e){var t=Ir(_r.AuthorizeNonceAccount,{authorized:N(e.newAuthorizedPubkey.toBuffer())});return new fr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"allocate",value:function(e){var t,r;"basePubkey"in e?(t=Ir(_r.AllocateWithSeed,{base:N(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:N(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Ir(_r.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new fr({keys:r,programId:this.programId,data:t})}}]),e}();Rr.programId=new Yt("11111111111111111111111111111111");var Pr=dr-300,Er=function(){function e(){(0,l.Z)(this,e)}var t;return(0,d.Z)(e,null,[{key:"getMinNumSignatures",value:function(t){return 2*(Math.ceil(t/e.chunkSize)+1+1)}},{key:"load",value:(t=(0,a.Z)(p().mark((function t(r,n,i,o,s){var a,u,c,h,l,d,f,y,g,m,k,v,w,I;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getMinimumBalanceForRentExemption(s.length);case 2:return a=t.sent,t.next=5,r.getAccountInfo(i.publicKey,"confirmed");case 5:if(u=t.sent,c=null,null===u){t.next=16;break}if(!u.executable){t.next=11;break}return console.error("Program load failed, account is already executable"),t.abrupt("return",!1);case 11:u.data.length!==s.length&&(c=c||new pr).add(Rr.allocate({accountPubkey:i.publicKey,space:s.length})),u.owner.equals(o)||(c=c||new pr).add(Rr.assign({accountPubkey:i.publicKey,programId:o})),u.lamports<a&&(c=c||new pr).add(Rr.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:a-u.lamports})),t.next=17;break;case 16:c=(new pr).add(Rr.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:a>0?a:1,space:s.length,programId:o}));case 17:if(null===c){t.next=20;break}return t.next=20,kr(r,c,[n,i],{commitment:"confirmed"});case 20:h=S.struct([S.u32("instruction"),S.u32("offset"),S.u32("bytesLength"),S.u32("bytesLengthPadding"),S.seq(S.u8("byte"),S.offset(S.u32(),-8),"bytes")]),l=e.chunkSize,d=0,f=s,y=[];case 25:if(!(f.length>0)){t.next=39;break}if(g=f.slice(0,l),m=b.lW.alloc(l+16),h.encode({instruction:0,offset:d,bytes:g},m),k=(new pr).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:m}),y.push(kr(r,k,[n,i],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){t.next=35;break}return t.next=35,wr(250);case 35:d+=l,f=f.slice(l),t.next=25;break;case 39:return t.next=41,Promise.all(y);case 41:return v=S.struct([S.u32("instruction")]),w=b.lW.alloc(v.span),v.encode({instruction:1},w),I=(new pr).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:br,isSigner:!1,isWritable:!1}],programId:o,data:w}),t.next=47,kr(r,I,[n,i],{commitment:"confirmed"});case 47:return t.abrupt("return",!0);case 48:case"end":return t.stop()}}),t)}))),function(e,r,n,i,o){return t.apply(this,arguments)})}]),e}();Er.chunkSize=Pr;new Yt("BPFLoader2111111111111111111111111111111111");var Wr={exports:{}};!function(e,t){var r="undefined"!=typeof self?self:B,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,r,n=f(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=p(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=h(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=h(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(e,t){var r,n,i=(t=t||{}).body;if(e instanceof k){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},b.call(k.prototype),b.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var I=[301,302,303,307,308];w.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(x){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,r){return new Promise((function(n,o){var s=new k(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new w(i,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=d,e.Request=k,e.Response=w),t.Headers=d,t.Request=k,t.Response=w,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Wr,Wr.exports);Error;var Or=(0,x.oQ)((0,x.eE)(Yt),(0,x.Z_)(),(function(e){return new Yt(e)})),Tr=(0,x.bc)([(0,x.Z_)(),(0,x.i0)("base64")]),zr=(0,x.oQ)((0,x.eE)(b.lW),Tr,(function(e){return b.lW.from(e[0],"base64")}));function Nr(e){return(0,x.G0)([(0,x.dt)({jsonrpc:(0,x.i0)("2.0"),id:(0,x.Z_)(),result:e}),(0,x.dt)({jsonrpc:(0,x.i0)("2.0"),id:(0,x.Z_)(),error:(0,x.dt)({code:(0,x._4)(),message:(0,x.Z_)(),data:(0,x.jt)((0,x.Yj)())})})])}var Br=Nr((0,x._4)());function Zr(e){return(0,x.oQ)(Nr(e),Br,(function(t){return"error"in t?t:T(T({},t),{},{result:(0,x.Ue)(t.result,e)})}))}function Ur(e){return Zr((0,x.dt)({context:(0,x.dt)({slot:(0,x.Rx)()}),value:e}))}function jr(e){return(0,x.dt)({context:(0,x.dt)({slot:(0,x.Rx)()}),value:e})}var Gr=(0,x.dt)({foundation:(0,x.Rx)(),foundationTerm:(0,x.Rx)(),initial:(0,x.Rx)(),taper:(0,x.Rx)(),terminal:(0,x.Rx)()}),Kr=(Zr((0,x.IX)((0,x.AG)((0,x.dt)({epoch:(0,x.Rx)(),effectiveSlot:(0,x.Rx)(),amount:(0,x.Rx)(),postBalance:(0,x.Rx)()})))),(0,x.dt)({epoch:(0,x.Rx)(),slotIndex:(0,x.Rx)(),slotsInEpoch:(0,x.Rx)(),absoluteSlot:(0,x.Rx)(),blockHeight:(0,x.jt)((0,x.Rx)()),transactionCount:(0,x.jt)((0,x.Rx)())})),Cr=(0,x.dt)({slotsPerEpoch:(0,x.Rx)(),leaderScheduleSlotOffset:(0,x.Rx)(),warmup:(0,x.O7)(),firstNormalEpoch:(0,x.Rx)(),firstNormalSlot:(0,x.Rx)()}),Dr=(0,x.IM)((0,x.Z_)(),(0,x.IX)((0,x.Rx)())),Mr=(0,x.AG)((0,x.G0)([(0,x.dt)({}),(0,x.Z_)()])),Lr=(0,x.dt)({err:Mr}),Xr=(0,x.i0)("receivedSignature");(0,x.dt)({"solana-core":(0,x.Z_)(),"feature-set":(0,x.jt)((0,x.Rx)())}),Ur((0,x.dt)({err:(0,x.AG)((0,x.G0)([(0,x.dt)({}),(0,x.Z_)()])),logs:(0,x.AG)((0,x.IX)((0,x.Z_)())),accounts:(0,x.jt)((0,x.AG)((0,x.IX)((0,x.AG)((0,x.dt)({executable:(0,x.O7)(),owner:(0,x.Z_)(),lamports:(0,x.Rx)(),data:(0,x.IX)((0,x.Z_)()),rentEpoch:(0,x.jt)((0,x.Rx)())}))))),unitsConsumed:(0,x.jt)((0,x.Rx)())}));Zr(Gr),Zr(Kr),Zr(Cr),Zr(Dr),Zr((0,x.Rx)()),Ur((0,x.dt)({total:(0,x.Rx)(),circulating:(0,x.Rx)(),nonCirculating:(0,x.Rx)(),nonCirculatingAccounts:(0,x.IX)(Or)}));var Fr=(0,x.dt)({amount:(0,x.Z_)(),uiAmount:(0,x.AG)((0,x.Rx)()),decimals:(0,x.Rx)(),uiAmountString:(0,x.jt)((0,x.Z_)())}),qr=(Ur((0,x.IX)((0,x.dt)({address:Or,amount:(0,x.Z_)(),uiAmount:(0,x.AG)((0,x.Rx)()),decimals:(0,x.Rx)(),uiAmountString:(0,x.jt)((0,x.Z_)())}))),Ur((0,x.IX)((0,x.dt)({pubkey:Or,account:(0,x.dt)({executable:(0,x.O7)(),owner:Or,lamports:(0,x.Rx)(),data:zr,rentEpoch:(0,x.Rx)()})}))),(0,x.dt)({program:(0,x.Z_)(),parsed:(0,x._4)(),space:(0,x.Rx)()})),Hr=(Ur((0,x.IX)((0,x.dt)({pubkey:Or,account:(0,x.dt)({executable:(0,x.O7)(),owner:Or,lamports:(0,x.Rx)(),data:qr,rentEpoch:(0,x.Rx)()})}))),Ur((0,x.IX)((0,x.dt)({lamports:(0,x.Rx)(),address:Or}))),(0,x.dt)({executable:(0,x.O7)(),owner:Or,lamports:(0,x.Rx)(),data:zr,rentEpoch:(0,x.Rx)()})),Vr=((0,x.dt)({pubkey:Or,account:Hr}),(0,x.oQ)((0,x.G0)([(0,x.eE)(b.lW),qr]),(0,x.G0)([Tr,qr]),(function(e){return Array.isArray(e)?(0,x.Ue)(e,zr):e}))),Jr=(0,x.dt)({executable:(0,x.O7)(),owner:Or,lamports:(0,x.Rx)(),data:Vr,rentEpoch:(0,x.Rx)()}),Qr=((0,x.dt)({pubkey:Or,account:Jr}),(0,x.dt)({state:(0,x.G0)([(0,x.i0)("active"),(0,x.i0)("inactive"),(0,x.i0)("activating"),(0,x.i0)("deactivating")]),active:(0,x.Rx)(),inactive:(0,x.Rx)()}),Zr((0,x.IX)((0,x.dt)({signature:(0,x.Z_)(),slot:(0,x.Rx)(),err:Mr,memo:(0,x.AG)((0,x.Z_)()),blockTime:(0,x.jt)((0,x.AG)((0,x.Rx)()))}))),Zr((0,x.IX)((0,x.dt)({signature:(0,x.Z_)(),slot:(0,x.Rx)(),err:Mr,memo:(0,x.AG)((0,x.Z_)()),blockTime:(0,x.jt)((0,x.AG)((0,x.Rx)()))}))),(0,x.dt)({subscription:(0,x.Rx)(),result:jr(Hr)}),(0,x.dt)({pubkey:Or,account:Hr})),$r=((0,x.dt)({subscription:(0,x.Rx)(),result:jr(Qr)}),(0,x.dt)({parent:(0,x.Rx)(),slot:(0,x.Rx)(),root:(0,x.Rx)()})),Yr=((0,x.dt)({subscription:(0,x.Rx)(),result:$r}),(0,x.G0)([(0,x.dt)({type:(0,x.G0)([(0,x.i0)("firstShredReceived"),(0,x.i0)("completed"),(0,x.i0)("optimisticConfirmation"),(0,x.i0)("root")]),slot:(0,x.Rx)(),timestamp:(0,x.Rx)()}),(0,x.dt)({type:(0,x.i0)("createdBank"),parent:(0,x.Rx)(),slot:(0,x.Rx)(),timestamp:(0,x.Rx)()}),(0,x.dt)({type:(0,x.i0)("frozen"),slot:(0,x.Rx)(),timestamp:(0,x.Rx)(),stats:(0,x.dt)({numTransactionEntries:(0,x.Rx)(),numSuccessfulTransactions:(0,x.Rx)(),numFailedTransactions:(0,x.Rx)(),maxTransactionsPerEntry:(0,x.Rx)()})}),(0,x.dt)({type:(0,x.i0)("dead"),slot:(0,x.Rx)(),timestamp:(0,x.Rx)(),err:(0,x.Z_)()})])),en=((0,x.dt)({subscription:(0,x.Rx)(),result:Yr}),(0,x.dt)({subscription:(0,x.Rx)(),result:jr((0,x.G0)([Lr,Xr]))}),(0,x.dt)({subscription:(0,x.Rx)(),result:(0,x.Rx)()}),(0,x.dt)({pubkey:(0,x.Z_)(),gossip:(0,x.AG)((0,x.Z_)()),tpu:(0,x.AG)((0,x.Z_)()),rpc:(0,x.AG)((0,x.Z_)()),version:(0,x.AG)((0,x.Z_)())}),(0,x.dt)({votePubkey:(0,x.Z_)(),nodePubkey:(0,x.Z_)(),activatedStake:(0,x.Rx)(),epochVoteAccount:(0,x.O7)(),epochCredits:(0,x.IX)((0,x.bc)([(0,x.Rx)(),(0,x.Rx)(),(0,x.Rx)()])),commission:(0,x.Rx)(),lastVote:(0,x.Rx)(),rootSlot:(0,x.AG)((0,x.Rx)())})),tn=(Zr((0,x.dt)({current:(0,x.IX)(en),delinquent:(0,x.IX)(en)})),(0,x.G0)([(0,x.i0)("processed"),(0,x.i0)("confirmed"),(0,x.i0)("finalized")])),rn=(0,x.dt)({slot:(0,x.Rx)(),confirmations:(0,x.AG)((0,x.Rx)()),err:Mr,confirmationStatus:(0,x.jt)(tn)}),nn=(Ur((0,x.IX)((0,x.AG)(rn))),Zr((0,x.Rx)()),(0,x.dt)({signatures:(0,x.IX)((0,x.Z_)()),message:(0,x.dt)({accountKeys:(0,x.IX)((0,x.Z_)()),header:(0,x.dt)({numRequiredSignatures:(0,x.Rx)(),numReadonlySignedAccounts:(0,x.Rx)(),numReadonlyUnsignedAccounts:(0,x.Rx)()}),instructions:(0,x.IX)((0,x.dt)({accounts:(0,x.IX)((0,x.Rx)()),data:(0,x.Z_)(),programIdIndex:(0,x.Rx)()})),recentBlockhash:(0,x.Z_)()})})),on=(0,x.dt)({parsed:(0,x._4)(),program:(0,x.Z_)(),programId:Or}),sn=(0,x.dt)({accounts:(0,x.IX)(Or),data:(0,x.Z_)(),programId:Or}),an=(0,x.G0)([sn,on]),un=(0,x.G0)([(0,x.dt)({parsed:(0,x._4)(),program:(0,x.Z_)(),programId:(0,x.Z_)()}),(0,x.dt)({accounts:(0,x.IX)((0,x.Z_)()),data:(0,x.Z_)(),programId:(0,x.Z_)()})]),cn=(0,x.oQ)(an,un,(function(e){return"accounts"in e?(0,x.Ue)(e,sn):(0,x.Ue)(e,on)})),hn=(0,x.dt)({signatures:(0,x.IX)((0,x.Z_)()),message:(0,x.dt)({accountKeys:(0,x.IX)((0,x.dt)({pubkey:Or,signer:(0,x.O7)(),writable:(0,x.O7)()})),instructions:(0,x.IX)(cn),recentBlockhash:(0,x.Z_)()})}),ln=(0,x.dt)({accountIndex:(0,x.Rx)(),mint:(0,x.Z_)(),owner:(0,x.jt)((0,x.Z_)()),uiTokenAmount:Fr}),dn=(0,x.dt)({err:Mr,fee:(0,x.Rx)(),innerInstructions:(0,x.jt)((0,x.AG)((0,x.IX)((0,x.dt)({index:(0,x.Rx)(),instructions:(0,x.IX)((0,x.dt)({accounts:(0,x.IX)((0,x.Rx)()),data:(0,x.Z_)(),programIdIndex:(0,x.Rx)()}))})))),preBalances:(0,x.IX)((0,x.Rx)()),postBalances:(0,x.IX)((0,x.Rx)()),logMessages:(0,x.jt)((0,x.AG)((0,x.IX)((0,x.Z_)()))),preTokenBalances:(0,x.jt)((0,x.AG)((0,x.IX)(ln))),postTokenBalances:(0,x.jt)((0,x.AG)((0,x.IX)(ln)))}),fn=(0,x.dt)({err:Mr,fee:(0,x.Rx)(),innerInstructions:(0,x.jt)((0,x.AG)((0,x.IX)((0,x.dt)({index:(0,x.Rx)(),instructions:(0,x.IX)(cn)})))),preBalances:(0,x.IX)((0,x.Rx)()),postBalances:(0,x.IX)((0,x.Rx)()),logMessages:(0,x.jt)((0,x.AG)((0,x.IX)((0,x.Z_)()))),preTokenBalances:(0,x.jt)((0,x.AG)((0,x.IX)(ln))),postTokenBalances:(0,x.jt)((0,x.AG)((0,x.IX)(ln)))}),pn=(Zr((0,x.AG)((0,x.dt)({blockhash:(0,x.Z_)(),previousBlockhash:(0,x.Z_)(),parentSlot:(0,x.Rx)(),transactions:(0,x.IX)((0,x.dt)({transaction:nn,meta:(0,x.AG)(dn)})),rewards:(0,x.jt)((0,x.IX)((0,x.dt)({pubkey:(0,x.Z_)(),lamports:(0,x.Rx)(),postBalance:(0,x.AG)((0,x.Rx)()),rewardType:(0,x.AG)((0,x.Z_)())}))),blockTime:(0,x.AG)((0,x.Rx)()),blockHeight:(0,x.AG)((0,x.Rx)())}))),Zr((0,x.AG)((0,x.dt)({blockhash:(0,x.Z_)(),previousBlockhash:(0,x.Z_)(),parentSlot:(0,x.Rx)(),transactions:(0,x.IX)((0,x.dt)({transaction:nn,meta:(0,x.AG)(dn)})),rewards:(0,x.jt)((0,x.IX)((0,x.dt)({pubkey:(0,x.Z_)(),lamports:(0,x.Rx)(),postBalance:(0,x.AG)((0,x.Rx)()),rewardType:(0,x.AG)((0,x.Z_)())}))),blockTime:(0,x.AG)((0,x.Rx)())}))),Zr((0,x.AG)((0,x.dt)({blockhash:(0,x.Z_)(),previousBlockhash:(0,x.Z_)(),parentSlot:(0,x.Rx)(),signatures:(0,x.IX)((0,x.Z_)()),blockTime:(0,x.AG)((0,x.Rx)())}))),Zr((0,x.AG)((0,x.dt)({slot:(0,x.Rx)(),meta:dn,blockTime:(0,x.jt)((0,x.AG)((0,x.Rx)())),transaction:nn}))),Zr((0,x.AG)((0,x.dt)({slot:(0,x.Rx)(),transaction:hn,meta:(0,x.AG)(fn),blockTime:(0,x.jt)((0,x.AG)((0,x.Rx)()))}))),Ur((0,x.dt)({blockhash:(0,x.Z_)(),feeCalculator:(0,x.dt)({lamportsPerSignature:(0,x.Rx)()})})),Ur((0,x.dt)({blockhash:(0,x.Z_)(),lastValidBlockHeight:(0,x.Rx)()})),(0,x.dt)({slot:(0,x.Rx)(),numTransactions:(0,x.Rx)(),numSlots:(0,x.Rx)(),samplePeriodSecs:(0,x.Rx)()})),yn=(Zr((0,x.IX)(pn)),Ur((0,x.AG)((0,x.dt)({feeCalculator:(0,x.dt)({lamportsPerSignature:(0,x.Rx)()})}))),Zr((0,x.Z_)()),Zr((0,x.Z_)()),(0,x.dt)({err:Mr,logs:(0,x.IX)((0,x.Z_)()),signature:(0,x.Z_)()})),gn=((0,x.dt)({result:jr(yn),subscription:(0,x.Rx)()}),function(){function e(t){(0,l.Z)(this,e),this._keypair=void 0,this._keypair=t||g().sign.keyPair()}return(0,d.Z)(e,[{key:"publicKey",get:function(){return new Yt(this._keypair.publicKey)}},{key:"secretKey",get:function(){return this._keypair.secretKey}}],[{key:"generate",value:function(){return new e(g().sign.keyPair())}},{key:"fromSecretKey",value:function(t,r){var n=g().sign.keyPair.fromSecretKey(t);if(!r||!r.skipValidation){var i=(new TextEncoder).encode("@solana/web3.js-validation-v1"),o=g().sign.detached(i,n.secretKey);if(!g().sign.detached.verify(i,o,n.publicKey))throw new Error("provided secretKey is invalid")}return new e(n)}},{key:"fromSeed",value:function(t){return new e(g().sign.keyPair.fromSeed(t))}}]),e}()),bn=S.struct([S.u8("numSignatures"),S.u8("padding"),S.u16("signatureOffset"),S.u16("signatureInstructionIndex"),S.u16("publicKeyOffset"),S.u16("publicKeyInstructionIndex"),S.u16("messageDataOffset"),S.u16("messageDataSize"),S.u16("messageInstructionIndex")]),mn=function(){function e(){(0,l.Z)(this,e)}return(0,d.Z)(e,null,[{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,o=t.instructionIndex;hr(32===r.length,"Public Key must be ".concat(32," bytes but received ").concat(r.length," bytes")),hr(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));var s=bn.span,a=s+r.length,u=a+i.length,c=b.lW.alloc(u+n.length);return bn.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:o,publicKeyOffset:s,publicKeyInstructionIndex:o,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:o},c),c.fill(r,s),c.fill(i,a),c.fill(n,u),new fr({keys:[],programId:e.programId,data:c})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;hr(64===t.length,"Private key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{var i=gn.fromSecretKey(t),o=i.publicKey.toBytes(),s=g().sign.detached(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:s,instructionIndex:n})}catch(a){throw new Error("Error creating instruction; ".concat(a))}}}]),e}();mn.programId=new Yt("Ed25519SigVerify111111111111111111111111111");var kn=new Yt("StakeConfig11111111111111111111111111111111"),vn=(0,d.Z)((function e(t,r,n){(0,l.Z)(this,e),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}));vn.default=new vn(0,0,Yt.default);var wn=Object.freeze({Initialize:{index:0,layout:S.struct([S.u32("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return S.struct([or("staker"),or("withdrawer")],e)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return S.struct([S.ns64("unixTimestamp"),S.ns64("epoch"),or("custodian")],e)}()])},Authorize:{index:1,layout:S.struct([S.u32("instruction"),or("newAuthorized"),S.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:S.struct([S.u32("instruction")])},Split:{index:3,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},Withdraw:{index:4,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},Deactivate:{index:5,layout:S.struct([S.u32("instruction")])},Merge:{index:7,layout:S.struct([S.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:S.struct([S.u32("instruction"),or("newAuthorized"),S.u32("stakeAuthorizationType"),sr("authoritySeed"),or("authorityOwner")])}}),In=(Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),function(){function e(){(0,l.Z)(this,e)}return(0,d.Z)(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,r=e.authorized,n=e.lockup||vn.default,i=Ir(wn.Initialize,{authorized:{staker:N(r.staker.toBuffer()),withdrawer:N(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:N(n.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:br,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new fr(o)}},{key:"createAccountWithSeed",value:function(e){var t=new pr;t.add(Rr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"createAccount",value:function(e){var t=new pr;t.add(Rr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.votePubkey,i=Ir(wn.Delegate);return(new pr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:kn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"authorize",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.stakeAuthorizationType,o=e.custodianPubkey,s=Ir(wn.Authorize,{newAuthorized:N(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:yr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new pr).add({keys:a,programId:this.programId,data:s})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorityBase,n=e.authoritySeed,i=e.authorityOwner,o=e.newAuthorizedPubkey,s=e.stakeAuthorizationType,a=e.custodianPubkey,u=Ir(wn.AuthorizeWithSeed,{newAuthorized:N(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:N(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:yr,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!1,isWritable:!1}),(new pr).add({keys:c,programId:this.programId,data:u})}},{key:"splitInstruction",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.lamports,o=Ir(wn.Split,{lamports:i});return new fr({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}},{key:"split",value:function(e){var t=new pr;return t.add(Rr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}},{key:"splitWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.basePubkey,o=e.seed,s=e.lamports,a=new pr;return a.add(Rr.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:s}))}},{key:"merge",value:function(e){var t=e.stakePubkey,r=e.sourceStakePubKey,n=e.authorizedPubkey,i=Ir(wn.Merge);return(new pr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.toPubkey,i=e.lamports,o=e.custodianPubkey,s=Ir(wn.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new pr).add({keys:a,programId:this.programId,data:s})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=Ir(wn.Deactivate);return(new pr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}]),e}());In.programId=new Yt("Stake11111111111111111111111111111111111111"),In.space=200;var Sn=_().publicKeyCreate,xn=_().ecdsaSign,An=S.struct([S.u8("numSignatures"),S.u16("signatureOffset"),S.u8("signatureInstructionIndex"),S.u16("ethAddressOffset"),S.u8("ethAddressInstructionIndex"),S.u16("messageDataOffset"),S.u16("messageDataSize"),S.u8("messageInstructionIndex"),S.blob(20,"ethAddress"),S.blob(64,"signature"),S.u8("recoveryId")]),_n=function(){function e(){(0,l.Z)(this,e)}return(0,d.Z)(e,null,[{key:"publicKeyToEthAddress",value:function(e){hr(64===e.length,"Public key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{return b.lW.from(P().keccak_256.update(N(e)).digest()).slice(-20)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}},{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,o=t.recoveryId,s=t.instructionIndex;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}},{key:"createInstructionWithEthAddress",value:function(t){var r,n=t.ethAddress,i=t.message,o=t.signature,s=t.recoveryId,a=t.instructionIndex,u=void 0===a?0:a;hr(20===(r="string"==typeof n?n.startsWith("0x")?b.lW.from(n.substr(2),"hex"):b.lW.from(n,"hex"):n).length,"Address must be ".concat(20," bytes but received ").concat(r.length," bytes"));var c=12+r.length,h=c+o.length+1,l=b.lW.alloc(An.span+i.length);return An.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:u,ethAddressOffset:12,ethAddressInstructionIndex:u,messageDataOffset:h,messageDataSize:i.length,messageInstructionIndex:u,signature:N(o),ethAddress:N(r),recoveryId:s},l),l.fill(N(i),An.span),new fr({keys:[],programId:e.programId,data:l})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;hr(32===t.length,"Private key must be ".concat(32," bytes but received ").concat(t.length," bytes"));try{var i=N(t),o=Sn(i,!1).slice(1),s=b.lW.from(P().keccak_256.update(N(r)).digest()),a=xn(s,i),u=a.signature,c=a.recid;return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:u,recoveryId:c,instructionIndex:n})}catch(h){throw new Error("Error creating instruction; ".concat(h))}}}]),e}();_n.programId=new Yt("KeccakSecp256k11111111111111111111111111111");new Yt("Va1idator1nfo111111111111111111111111111111"),(0,x.dt)({name:(0,x.Z_)(),website:(0,x.jt)((0,x.Z_)()),details:(0,x.jt)((0,x.Z_)()),keybaseUsername:(0,x.jt)((0,x.Z_)())}),new Yt("Vote111111111111111111111111111111111111111"),S.struct([or("nodePubkey"),or("authorizedWithdrawer"),S.u8("commission"),S.nu64(),S.seq(S.struct([S.nu64("slot"),S.u32("confirmationCount")]),S.offset(S.u32(),-8),"votes"),S.u8("rootSlotValid"),S.nu64("rootSlot"),S.nu64(),S.seq(S.struct([S.nu64("epoch"),or("authorizedVoter")]),S.offset(S.u32(),-8),"authorizedVoters"),S.struct([S.seq(S.struct([or("authorizedPubkey"),S.nu64("epochOfLastAuthorizedSwitch"),S.nu64("targetEpoch")]),32,"buf"),S.nu64("idx"),S.u8("isEmpty")],"priorVoters"),S.nu64(),S.seq(S.struct([S.nu64("epoch"),S.nu64("credits"),S.nu64("prevCredits")]),S.offset(S.u32(),-8),"epochCredits"),S.struct([S.nu64("slot"),S.nu64("timestamp")],"lastTimestamp")]);var Rn=Object.freeze({InitializeAccount:{index:0,layout:S.struct([S.u32("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return S.struct([or("nodePubkey"),or("authorizedVoter"),or("authorizedWithdrawer"),S.u8("commission")],e)}()])},Authorize:{index:1,layout:S.struct([S.u32("instruction"),or("newAuthorized"),S.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])}}),Pn=(Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),function(){function e(){(0,l.Z)(this,e)}return(0,d.Z)(e,null,[{key:"initializeAccount",value:function(e){var t=e.votePubkey,r=e.nodePubkey,n=e.voteInit,i=Ir(Rn.InitializeAccount,{voteInit:{nodePubkey:N(n.nodePubkey.toBuffer()),authorizedVoter:N(n.authorizedVoter.toBuffer()),authorizedWithdrawer:N(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:br,isSigner:!1,isWritable:!1},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new fr(o)}},{key:"createAccount",value:function(e){var t=new pr;return t.add(Rr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}},{key:"authorize",value:function(e){var t=e.votePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.voteAuthorizationType,o=Ir(Rn.Authorize,{newAuthorized:N(n.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new pr).add({keys:s,programId:this.programId,data:o})}},{key:"withdraw",value:function(e){var t=e.votePubkey,r=e.authorizedWithdrawerPubkey,n=e.lamports,i=e.toPubkey,o=Ir(Rn.Withdraw,{lamports:n}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new pr).add({keys:s,programId:this.programId,data:o})}}]),e}());Pn.programId=new Yt("Vote111111111111111111111111111111111111111"),Pn.space=3731}}]);
//# sourceMappingURL=8015bd09-37892164568c3e41b318.js.map